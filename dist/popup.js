define("#popup/0.9.7/popup",["#overlay/0.9.8/overlay","#jquery/1.7.2/jquery","#position/0.9.2/position","#iframe-shim/0.9.3/iframe-shim","#widget/0.9.16/widget","#base/0.9.16/base","#class/0.9.2/class","#events/0.9.1/events","#base/0.9.16/aspect","#base/0.9.16/attribute","#widget/0.9.16/daparser","#widget/0.9.16/auto-render"],function(require,exports,module){var $=require("#jquery/1.7.2/jquery"),Overlay=require("#overlay/0.9.8/overlay"),Popup=Overlay.extend({attrs:{trigger:{value:null,getter:function(val){return $(val)}},triggerType:"hover",delay:100},setup:function(){Popup.superclass.setup.call(this),this._bindTrigger()},toggle:function(){this[this.get("visible")?"hide":"show"]()},_bindTrigger:function(){function leaveHandler(){clearTimeout(showTimer),that.get("visible")&&(hideTimer=setTimeout(function(){that.hide()},delay))}var trigger=this.get("trigger"),triggerType=this.get("triggerType"),delay=this.get("delay"),showTimer,hideTimer,that=this;triggerType==="click"?trigger.on(triggerType,function(ev){ev.preventDefault(),that.toggle()}):triggerType==="focus"?trigger.on("focus blur",function(){that.toggle()}):(trigger.hover(function(){clearTimeout(hideTimer),that.get("visible")||(showTimer=setTimeout(function(){that.show()},delay))},leaveHandler),this.element.hover(function(){clearTimeout(hideTimer)},leaveHandler))}});module.exports=Popup});