define("arale/popup/0.9.9/popup",["$","arale/overlay/0.9.12/overlay","arale/position/1.0.0/position","arale/iframe-shim/1.0.0/iframe-shim","arale/widget/1.0.2/widget","arale/base/1.0.1/base","arale/class/1.0.0/class","arale/events/1.0.0/events"],function(e,t,n){var r=e("$"),i=e("arale/overlay/0.9.12/overlay"),s=i.extend({attrs:{trigger:{value:null,getter:function(e){return r(e)}},triggerType:"hover",align:{baseXY:[0,"100%"],selfXY:[0,0]},delay:70,disabled:!1,effect:"",duration:250},setup:function(){s.superclass.setup.call(this),this._bindTrigger(),this._blurHide([this.get("trigger")])},show:function(){if(this.get("disabled"))return;!this.rendered&&this.render(),this.set("visible",!0);var e=this.get("align");e.baseElement=this.activeTrigger,this.set("align",e)},toggle:function(){this[this.get("visible")?"hide":"show"]()},_bindTrigger:function(){function u(){clearTimeout(i),o.get("visible")&&(s=setTimeout(function(){o.hide()},n))}var e=this.get("trigger"),t=this.get("triggerType"),n=this.get("delay"),i,s,o=this;t==="click"?e.on(t,function(e){e.preventDefault(),o.activeTrigger=r(this),o.toggle()}):t==="focus"?(e.on("focus",function(){o.activeTrigger=r(this),o.show()}).on("blur",function(){setTimeout(function(){!o._downOnElement&&o.hide(),o._downOnElement=!1},n)}),this.element.on("mousedown",function(e){o._downOnElement=!0})):(e.hover(function(){clearTimeout(s),o.activeTrigger=r(this),i=setTimeout(function(){o.show()},n)},u),this.element.hover(function(){clearTimeout(s)},u))},_onRenderVisible:function(e){var t=this.get("effect").indexOf("fade")!==-1,n=this.get("effect").indexOf("slide")!==-1,r={};n&&(r.height=e?"show":"hide"),t&&(r.opacity=e?"show":"hide"),t||n?this.element.animate(r,this.get("duration")):this.element[e?"show":"hide"]()}});n.exports=s});